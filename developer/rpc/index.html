<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.104.3"><meta name=generator content="Relearn 5.3.3+tip"><meta name=description content><title>RPC :: Zcash Warp Sync</title><link href=https://hhanh00.github.io/zcash-sync/images/favicon.png?1666246110 rel=icon type=image/png><link href=https://hhanh00.github.io/zcash-sync/css/fontawesome-all.min.css?1666246110 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=https://hhanh00.github.io/zcash-sync/css/fontawesome-all.min.css?1666246110 rel=stylesheet></noscript><link href=https://hhanh00.github.io/zcash-sync/css/featherlight.min.css?1666246110 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=https://hhanh00.github.io/zcash-sync/css/featherlight.min.css?1666246110 rel=stylesheet></noscript><link href=https://hhanh00.github.io/zcash-sync/css/auto-complete.css?1666246110 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=https://hhanh00.github.io/zcash-sync/css/auto-complete.css?1666246110 rel=stylesheet></noscript><link href=https://hhanh00.github.io/zcash-sync/css/perfect-scrollbar.min.css?1666246110 rel=stylesheet><link href=https://hhanh00.github.io/zcash-sync/css/nucleus.css?1666246110 rel=stylesheet><link href=https://hhanh00.github.io/zcash-sync/css/fonts.css?1666246110 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=https://hhanh00.github.io/zcash-sync/css/fonts.css?1666246110 rel=stylesheet></noscript><link href=https://hhanh00.github.io/zcash-sync/css/theme.css?1666246110 rel=stylesheet><link href=https://hhanh00.github.io/zcash-sync/css/theme-blue.css?1666246110 rel=stylesheet id=variant-style><link href=https://hhanh00.github.io/zcash-sync/css/ie.css?1666246110 rel=stylesheet><link href=https://hhanh00.github.io/zcash-sync/css/variant.css?1666246110 rel=stylesheet><link href=https://hhanh00.github.io/zcash-sync/css/print.css?1666246110 rel=stylesheet media=print><script src=https://hhanh00.github.io/zcash-sync/js/variant.js?1666246110></script>
<script>var index_url="https://hhanh00.github.io/zcash-sync/index.json",baseUriFull,root_url="https://hhanh00.github.io/zcash-sync/",baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="Copy to clipboard",window.T_Copied_to_clipboard="Copied to clipboard!",window.T_Copy_link_to_clipboard="Copy link to clipboard",window.T_Link_copied_to_clipboard="Copied link to clipboard!",baseUriFull="https://hhanh00.github.io/zcash-sync/",window.variants&&variants.init(["blue"])</script><script src=https://hhanh00.github.io/zcash-sync/js/jquery.min.js?1666246110 defer></script><link rel=stylesheet href=https://hhanh00.github.io/zcash-sync//common.css>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css integrity=sha384-ZPe7yZ91iWxYumsBEOn7ieg8q/o+qh/hQpSaPow8T6BwALcXSCS6C6fSRPIAnTQs crossorigin=anonymous></head><body class="mobile-support default" data-url=https://hhanh00.github.io/zcash-sync/developer/rpc/><div id=body class=default-animation><div id=sidebar-overlay></div><div id=toc-overlay></div><nav id=topbar class=highlightable><div><div class=navigation><a class="nav nav-next" href=https://hhanh00.github.io/zcash-sync/developer/rest/ title="REST API (&#129106;)"><i class="fas fa-chevron-right fa-fw"></i></a></div><div class=navigation><a class="nav nav-prev" href=https://hhanh00.github.io/zcash-sync/developer/ title="Developer (&#129104;)"><i class="fas fa-chevron-left fa-fw"></i></a></div><div id=breadcrumbs><span id=sidebar-toggle-span><a href=# id=sidebar-toggle title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a></span>
<span id=toc-menu title='Table of Contents (CTRL+ALT+t)'><i class="fas fa-list-alt fa-fw"></i></span><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=https://hhanh00.github.io/zcash-sync/><span itemprop=name>WarpSync</span></a><meta itemprop=position content="1">></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=https://hhanh00.github.io/zcash-sync/developer/><span itemprop=name>Developer</span></a><meta itemprop=position content="2">></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>RPC</span><meta itemprop=position content="3"></li></ol></div><div class="default-animation progress"><div class=wrapper><nav id=TableOfContents><ul><li><a href=#build>Build</a></li><li><a href=#configuration>Configuration</a></li></ul></nav></div></div></div></nav><main id=body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><div id=head-tags></div><article class=default><h1>RPC</h1><p>There are several ways to use a warp sync in your project.</p><p>The simplest way is to go through the RPC API.
Install and use warp sync as a server or a microservice for synchronization
and account maintenance.</p><p>In this case, you should use the REST API published on
<a href=https://app.swaggerhub.com/apis/HANHHUYNHHUU/warp-sync_api/1.2.15>SwaggerHub</a>
. It is also available here in the section <a href=https://hhanh00.github.io/zcash-sync/developer/rest/>REST API</a>.</p><h2 id=build>Build</h2><p>First of all, you have to compile the server with <code>cargo</code>.</p><ul><li>Make sure you have downloaded the ZKSNARK parameters. If you have a working
installation of <code>zcashd</code>, the parameters are already downloaded and available.
If not, use the script <code>fetch-params.sh</code></li><li>Then run the following command</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>  cargo b -r --bin warp-rpc --features<span style=color:#f92672>=</span>rpc 
</span></span></code></pre></div><p>It&rsquo;s typical 100% Rust project.</p><h2 id=configuration>Configuration</h2><p>Then set a configuration file <code>Rocket.toml</code>.</p><ul><li><code>allow_backup</code>: enables the API that shows the seed phrases and should not be
turned on for public servers,</li><li><code>allow_send</code>: enables the API that builds and signs transactions, and should
also be restricted for public servers.</li></ul><p>A typical configuration file looks like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>default</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>allow_backup</span> = <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>allow_send</span> = <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>yec</span> = { <span style=color:#a6e22e>db_path</span> = <span style=color:#e6db74>&#34;./yec.db&#34;</span>, <span style=color:#a6e22e>lwd_url</span> = <span style=color:#e6db74>&#34;https://lite.ycash.xyz:9067&#34;</span> }
</span></span><span style=display:flex><span><span style=color:#a6e22e>zec</span> = { <span style=color:#a6e22e>db_path</span> = <span style=color:#e6db74>&#34;./zec.db&#34;</span>, <span style=color:#a6e22e>lwd_url</span> = <span style=color:#e6db74>&#34;https://mainnet.lightwalletd.com:9067&#34;</span> }
</span></span></code></pre></div><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p>WarpSync supports multiple coins and multiple accounts, therefore you need to set an active account before
calling the account methods.</p></div></div><p>another way to use a websync is to you have to use the RPC so use the RPC to initiate what the synchronization and use the RPC to do payments and getting your balance also you can still use the RPC as before but then you can also access the database directly because uh the database has a is a uh meaty process and as long as you use the the proper client library and implements that has locking you should be able to uh to connect to the database in the second secondary connection and directly use the database so if you do that you have to to be mindful that only only queries are allowed should be should be should be used if you modify that the database in any way it could be you could create a problems so it&rsquo;s not meant to be a to be a read write in this case you should consider database as read only but you have access to well notes accounts and uh history or this software and you can follow this keyboard that is below to uh to understand how these tables link together it&rsquo;s a simple relational database with only a few a few usable tables useful tables and another way to use WAP sync is uh if you also so these two ways to use option the final way to use swapsing is what is what uh let&rsquo;s see what it does which is to use it through the uh C C ffi file functional interface in this case what you would need is to compile a warp sync with the top ffi feature option which uh well the name is not really indicative exactly what he does is actually not as well it&rsquo;s not 100 specific to that because it creates a CEO a C library that you can use from other languages that supports C bindings uh dot does so that&rsquo;s why it&rsquo;s called Dot ffi with the c bandings you can you can call from per python all these guys and uh the okay so the way to use that is uh to look take a look at uh take a look at what here at DPI and the inventory point is dot effect so you will see that in Dot ffi</p><p>these are one of the uh expose for sure to see and this function is called set active account and the information implementation will delegate to the real to the real rust code so these functions here are only for wrapping and unwrapping unwrapping the parameters and wrapping the results and they translate pretty simply to uh to the C parameters so coin is a is a chart u8 is a Char and Adobe URL is a C string you can see that here if the function can return an error so these functions here are either do not return anything or they return a string but if they can return an error but we return is a c result which uh which is a parameterized type for for the return the real return value and the C result is similar to our past result except that it&rsquo;s a c structure that can be passed across a c boundaries uh so it&rsquo;s not Union it&rsquo;s always the value and error except that the error is a is a C string so if there&rsquo;s are no errors if the return is correct we have a value then error would be a normal pointer and if you have an error then error would be a C string again the C string pointing to to the r message and uh it&rsquo;s the uh so whenever you have a string that is returned to this to the C return to C uh it has been allocated by rust obviously but then you have to de-allocate it so there&rsquo;s a function a utility function for the allocating strings that we&rsquo;re allocating in in the rust uh it&rsquo;s called this one the allocate Str and you&rsquo;re supposed to to pass the string that you got from rust and once you&rsquo;re done with it and it will uh it would be allocate so you have a bunch of these functions I&rsquo;m gonna they are going to be uh oh yeah documented in rostock but the uh what they do is very similar to um to the RPC particularly RPC uh also goes through these uh this interface uh so if you don&rsquo;t have to if you can use it at microservice I recommend the micro service option the RPC option because uh any you have to deal with uh with uh linking Library C libraries you know how to deal with ffi and all this stuff that is introduces I would say a necessary unnecessary complexity in in some cases in many cases and just using uh Json up API is probably enough for most of the cases and finally if you want to have there&rsquo;s also what is it okay so no DPI I think somewhere</p><p>well maybe it&rsquo;s not exposed well so let&rsquo;s say that these are the only all the options for using a website and then you can use examples all right that&rsquo;s it</p><footer class=footline></footer></article></div></main></div><aside id=sidebar class="default-animation showVisitedLinks"><div id=header-wrapper class=default-animation><div id=header class=default-animation><a id=logo href=https://hhanh00.github.io/zcash-sync/><img srcset="https://hhanh00.github.io/zcash-sync//logo.png 4x"></a></div><div class="searchbox default-animation"><label class=a11y-only for=search-by>Search</label>
<i class="fas fa-search"></i>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script>var contentLangs=["en"]</script><script src=https://hhanh00.github.io/zcash-sync/js/auto-complete.js?1666246110 defer></script>
<script src=https://hhanh00.github.io/zcash-sync/js/lunr.min.js?1666246110 defer></script>
<script src=https://hhanh00.github.io/zcash-sync/js/lunr.stemmer.support.min.js?1666246110 defer></script>
<script src=https://hhanh00.github.io/zcash-sync/js/lunr.multi.min.js?1666246110 defer></script>
<script src=https://hhanh00.github.io/zcash-sync/js/lunr.en.min.js?1666246110 defer></script>
<script src=https://hhanh00.github.io/zcash-sync/js/search.js?1666246110 defer></script></div><div id=content-wrapper class=highlightable><ul class=topics><li data-nav-id=/light_wallet/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/light_wallet/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#wallet"/></svg>Light Wallets<i class="fas fa-check read-icon"></i></a><ul id=subsections-36215d82f105e6a1480b638eaa9c8d85><li data-nav-id=/light_wallet/purpose/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/light_wallet/purpose/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#"/></svg>Purpose<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/light_wallet/privacy/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/light_wallet/privacy/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#"/></svg>Privacy<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/light_wallet/utxo/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/light_wallet/utxo/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#"/></svg>UTXO Model<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/light_wallet/scan/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/light_wallet/scan/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#"/></svg>Scan / Sync<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/light_wallet/reorg/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/light_wallet/reorg/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#"/></svg>Reorganization<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/data_model/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/data_model/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#db"/></svg>Data Model<i class="fas fa-check read-icon"></i></a><ul id=subsections-a50bfc3b4a08a12e2c0e6712a71aa7c5><li data-nav-id=/data_model/tables/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/data_model/tables/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#"/></svg>Tables<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/data_model/chunks/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/data_model/chunks/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#"/></svg>Block Chunks<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/data_model/rollback/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/data_model/rollback/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#"/></svg>Rollback<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/execution_model/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/execution_model/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#work"/></svg>Execution Model<i class="fas fa-check read-icon"></i></a><ul id=subsections-35801c1dd9f796a90a09e9cea0ee9e39><li data-nav-id=/execution_model/tasks/ class="dd-item alwaysopen"><a href=https://hhanh00.github.io/zcash-sync/execution_model/tasks/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#task"/></svg>Tasks<i class="fas fa-check read-icon"></i></a><ul id=subsections-b9a4a25588d5cce3c4a556db5f3a429f><li data-nav-id=/execution_model/tasks/download/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/execution_model/tasks/download/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#"/></svg>Download<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/execution_model/tasks/decrypt/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/execution_model/tasks/decrypt/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#"/></svg>Decrypt<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/execution_model/tasks/witnesses/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/execution_model/tasks/witnesses/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#"/></svg>Witnesses<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/execution_model/tasks/pipeline/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/execution_model/tasks/pipeline/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#"/></svg>Pipeline<i class="fas fa-check read-icon"></i></a></li></ul></li></ul></li><li data-nav-id=/developer/ class="dd-item parent"><a href=https://hhanh00.github.io/zcash-sync/developer/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#api"/></svg>Developer<i class="fas fa-check read-icon"></i></a><ul id=subsections-66449613fb7f90399b05c565e3093d8b><li data-nav-id=/developer/rpc/ class="dd-item active"><a href=https://hhanh00.github.io/zcash-sync/developer/rpc/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#"/></svg>RPC<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developer/rest/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/developer/rest/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#"/></svg>REST API<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developer/database/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/developer/database/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#"/></svg>Database<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developer/ffi/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/developer/ffi/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#"/></svg>FFI<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developer/java/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/developer/java/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#"/></svg>Java<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/developer/rust/ class=dd-item><a href=https://hhanh00.github.io/zcash-sync/developer/rust/><svg class="icon"><use xlink:href="https://hhanh00.github.io/zcash-sync//sprite.svg#"/></svg>Rust<i class="fas fa-check read-icon"></i></a></li></ul></li></ul><div class="footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"></div><hr class="default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"><div id=prefooter class="footerLangSwitch footerVariantSwitch footerVisitedLinks showVisitedLinks"><ul><li id=select-language-container class=footerLangSwitch><div class="padding select-container"><i class="fas fa-language fa-fw"></i>
<span>&nbsp;</span><div class=select-style><label class=a11y-only for=select-language>Language</label>
<select id=select-language onchange="location=baseUri+this.value"></select></div><div class=select-clear></div></div></li><li id=select-variant-container class=footerVariantSwitch><div class="padding select-container"><i class="fas fa-paint-brush fa-fw"></i>
<span>&nbsp;</span><div class=select-style><label class=a11y-only for=select-variant>Theme</label>
<select id=select-variant onchange=window.variants&&variants.changeVariant(this.value)><option id=blue value=blue selected>Blue</option></select></div><div class=select-clear></div></div><script>window.variants&&variants.markSelectedVariant()</script></li><li class="footerVisitedLinks showVisitedLinks"><a class=padding onclick=clearHistory()><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></div><div id=footer class="footerFooter showFooter"><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn title=love><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div></div></aside><script src=https://hhanh00.github.io/zcash-sync/js/clipboard.min.js?1666246110 defer></script>
<script src=https://hhanh00.github.io/zcash-sync/js/perfect-scrollbar.min.js?1666246110 defer></script>
<script src=https://hhanh00.github.io/zcash-sync/js/featherlight.min.js?1666246110 defer></script>
<script src=https://hhanh00.github.io/zcash-sync/js/theme.js?1666246110 defer></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js integrity=sha384-ljao5I1l+8KYFXG7LNEA7DyaFvuvSCmedUf6Y6JI7LJqiu8q5dEivP2nDdFH31V4 crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous onload='renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})'></script></body></html>